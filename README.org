We are going to use supabase but querying it through api so no js client needed and changing to other system would be easier.

** Queries

**** Matches
They are sorted by /played_at/ field.

#+BEGIN_SRC bash
curl 'https://orqwiubnozfouaqyywah.supabase.co/rest/v1/CLOSSPAD_match?select=*&order=played_at.asc' \
    -H "apikey: SUPABASE_CLIENT_ANON_KEY" \
    -H "Authorization: Bearer SUPABASE_CLIENT_ANON_KEY"
#+END_SRC


** Tasks [4/12]

*** DONE [#A] BUG next day
when clicked in the last one 1-1-1970 is selected, and no disable working
*** DONE [#A] Review code
/event-handler/ code structure in replicant examples to use some of the ideas there.
*** DONE [#A] BUG deploy.sh
main.js no se estÃ¡n versionando/modificando -> subiendo
*** DONE [#A] BUG POST route typo
changed :route/push :route/unkown to [:route :match {:date (-> added-match :played_at)}] in supabase.cljs:71. Removed dead :route/unkown case in effects.cljs:39.
*** TODO [#A] BUG POST no data refresh
add [:data/query] dispatch after successful POST in supabase.cljs:69-72. New matches not visible until page refresh or re-query.
*** TODO [#A] BUG POST missing error handler
add :data/error event handler in events.cljs. POST failures don't clear loading state or show errors to users.
*** TODO [#A] Better keywordization
so =played_at= becomes =played-at=. Do not use libraries but code from scratch.
*** TODO [#B] Load session on start
when app is first time loaded/rendered, it must read from localStorage the session from supabase and save into atom dispatching.
*** TODO [#B] Rows animations
using some js library so I can learn js interop too.
*** TODO [#B] Adding configuration
and save into local storage with some /effect/.
*** TODO [#B] BUG POST no success feedback
add toast notification after successful POST. Users don't know if match was saved.
*** TODO [#C] Rating system configurable
through some dialog or expandible widget.
*** DONE [#C] Clean up dead code
removed commented :post/fx.match code in effects.cljs:50.



** Pages

*** =GET= Matches/classification
/match/2025-04-07
merge
